<h1><%= @user.first_name %>'s Profile</h1>

<br>
<br>



  <% if @user === @current_user %>
    <%= button_to 'Edit Profile', edit_user_path(@user), :class=> 'button', :method => :get %>
  <% end %>

  <% if @user === @current_user || @current_user.present? && @current_user.admin? %>
    <%= button_to 'Delete Profile', user_path(@user), :method => 'delete', :data => { :confirm => 'Are you sure?' } %>
  <% end %>
  <br />


  <% if @user.photos.present? %>

    <% @user.photos.each do |photo| %>
    <%= cl_image_tag(photo.path, { size: '400x400', crop: :fit, :alt => @user.first_name}) %>

    <% end %>

  <% elsif @user.image.present? %>
  <%= image_tag(@user.image, {:class => 'index-image', :size => '400x400', :crop => :fit, :alt => @user.first_name} ) %>
  <% else %>
    <!-- default image here -->
  <%= image_tag('/assets/img.jpg', {:class => 'index-image', :size => '400x400', :crop => :fit, :alt => @user.first_name} ) %>
  <% end %>




<br>
<br>

  <h3>Name: <%= @user.first_name %></h3>

  <% if @user.interests.present? %>
  <h4>Interests: <%= @user.interests %></h4>
  <% end %>

  <% if @user.bio.present? %>
  <h4>Things to know about me: <%= @user.bio %> </h4>
  <% end %>

  <% if @user.gender.present? %>
  <h4>Gender: <%= @user.gender %></h4>
  <% end %>

  <% if @user.dob.present? %>
  <h4>Age: <%= ((Time.zone.now - @user.dob.to_time) / 1.year.seconds).floor %></h4>
  <h4>Starsign: <%= @user.zodiac_sign %></h4>
  <% end %>

  <h4>Location: <%= @user.location %></h4>


  <% if @user.language.present? %>
  <h4>Favourite Language: <%= @user.language %></h4>
  <% end %>


  <% if @user.location.present? %>
  <div id="map"></div> <!--need predefined height to display content, otherwise it won't expand-->

<% end %>

  <script>
      var myLatLng = {lat: <%= @latitude %>, lng: <%= @longitude %>};

      function initMap() {
        var map = new google.maps.Map(document.getElementById('map'), {
          center: myLatLng,
          zoom: 15
        });

        var marker = new google.maps.Marker({
          position: myLatLng,
          map: map,
        })
      }
    </script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBRJ_rNpk79o-xD6SiesCvKhF6fEWrF6lk&callback=initMap"
    async defer></script>
